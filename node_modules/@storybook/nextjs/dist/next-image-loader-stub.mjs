import { __commonJS } from './chunk-FFRTCGB4.mjs';
import { interpolateName } from 'loader-utils';
import imageSizeOf from 'image-size';
import sharp from 'sharp';
import { cpus } from 'os';

var require_next_image_loader_stub=__commonJS({"src/next-image-loader-stub.ts"(exports,module){if(sharp.concurrency()>1){let divisor=process.env.NODE_ENV==="development"?4:2;sharp.concurrency(Math.floor(Math.max(cpus().length/divisor,1)));}var nextImageLoaderStub=async function(content){let{filename,nextConfig}=this.getOptions(),opts={context:this.rootContext,content},outputPath=interpolateName(this,filename.replace("[ext]",".[ext]"),opts),extension=interpolateName(this,"[ext]",opts);if(this.emitFile(outputPath,content),nextConfig.images?.disableStaticImages)return `const src = '${outputPath}'; export default src;`;let width,height;if(extension==="avif"){let result=await sharp(content).metadata();width=result.width,height=result.height;}else {let result=imageSizeOf(this.resourcePath);width=result.width,height=result.height;}return `export default ${JSON.stringify({src:outputPath,height,width,blurDataURL:outputPath})};`};nextImageLoaderStub.raw=!0;module.exports=nextImageLoaderStub;}});var nextImageLoaderStub = require_next_image_loader_stub();

export { nextImageLoaderStub as default };
